// 凹凸阴影函数和mixin

@function surfaceShadow-concave-generator($angle, $color) {
  @return linear-gradient($angle, darken($color, 10%), lighten($color, 10%));
}

@function surfaceShadow-convex-generator($angle, $color) {
  @return linear-gradient($angle, lighten($color, 10%), darken($color, 10%));
}

@function directionToAngle($direction) {
  @if $direction == topLeft {
    @return 145deg;
  } @else if $direction == topRight {
    @return 225deg;
  } @else if $direction == bottomLeft {
    @return 45deg;
  } @else if $direction == bottomRight {
    @return 315deg;
  }
}

@function shadow-light($direction, $color, $blur) {
  @if $direction == topLeft {
    @return (-$blur / 2) (-$blur / 2) $blur lighten($color, 13.75%);
  } @else if $direction == topRight {
    @return ($blur / 2) (-$blur / 2) $blur lighten($color, 13.75%);
  } @else if $direction == bottomLeft {
    @return (-$blur / 2) ($blur / 2) $blur lighten($color, 13.75%);
  } @else if $direction == bottomRight {
    @return ($blur / 2) ($blur / 2) $blur lighten($color, 13.75%);
  }
}

@function shadow-dark($direction, $color, $blur) {
  @if $direction == topLeft {
    @return ($blur / 2) ($blur / 2) $blur darken($color, 13.75%);
  } @else if $direction == topRight {
    @return (-$blur / 2) ($blur / 2) $blur darken($color, 13.75%);
  } @else if $direction == bottomLeft {
    @return ($blur / 2) (-$blur / 2) $blur darken($color, 13.75%);
  } @else if $direction == bottomRight {
    @return (-$blur / 2) (-$blur / 2) $blur darken($color, 13.75%);
  }
}

@function shadow-generator($direction, $color, $blur, $inset) {
  @if $inset {
    @return shadow-light($direction, $color, $blur) inset,
      shadow-dark($direction, $color, $blur) inset;
  } @else {
    @return shadow-light($direction, $color, $blur),
      shadow-dark($direction, $color, $blur);
  }
}

@function surface-generator($direction, $color, $type) {
  @if $type == concave {
    @return surfaceShadow-concave-generator(
      directionToAngle($direction),
      $color
    );
  } @else if $type == convex {
    @return surfaceShadow-convex-generator(
      directionToAngle($direction),
      $color
    );
  }
}

@mixin shadow($direction, $color, $blur, $inset) {
  box-shadow: shadow-generator($direction, $color, $blur, $inset);
}

@mixin surface($direction, $color, $type) {
  background-image: surface-generator($direction, $color, $type);
}

// 对比度函数

@function ContrastText($originColor) {
  @if (
      ((lightness($originColor) >= 60%)) and saturation($originColor) <= 70%
    ) or
    (lightness(grayscale($originColor)) >= 85%)
  {
    @return #292929;
  } @else {
    @return #f8f8f8;
  }
}
